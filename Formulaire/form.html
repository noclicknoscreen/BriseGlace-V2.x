<!doctype html>

<html>
<head>
    <meta charset="utf-8">
    <title>Manipulation des formulaires</title>
</head>

<body>
    <form onsubmit="return make_json(this);">
        <h1>Formulaire d'inscription</h1>
        <p>
            <label for="pseudo">Pseudo</label> :
            <input type="text" name="pseudo" id="pseudo" required>
            <span id="aidePseudo"></span>
        </p>
        <p>
            <label for="mdp">Mot de passe</label> :
            <input type="text" name="mdp" id="mdp">
            <span id="aideMdp"></span>
        </p>
        <p>
            <label for="courriel">Courriel</label> :
            <input type="text" name="courriel" id="courriel" required placeholder="utilisateur@domaine.fr">
            <span id="aideCourriel"></span>
        </p>
        <p>
            <label for="nationalite">Nationalité :</label>
            <select name="nationalite" id="nationalite">
                <option value="FR" selected>Française</option>
                <option value="BE">Belge</option>
                <option value="SUI">Suisse</option>
                <option value="XX">Autre</option>
            </select>
        </p>
        <div class="button">
        <button type="submit">Envoyer le message</button>
        </div>
    </form>

<pre id="output">
  Fill the above form to json ...
</pre>

<script>
function make_json(form) {
  var json={
    "pseudo":form.pseudo.value,
    "mdp":form.mdp.value,
    "courriel":form.courriel.value,
    "nationalite":[{"nationalite":form.nationalite.value}]
  };
  var html = JSON.stringify(json,0,4);
  document.getElementById('output').innerHTML = html;
  return false;
}
</script>


</body>
</html>
